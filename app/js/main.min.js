function initConditions(e){var i,a=new Date,s=[6,23],t=[18,49],n=60*s[0]+s[1],c=60*t[0]+t[1],o=60*a.getHours()+a.getMinutes();switch(i=o>c-60&&o<=c+60?"dusk":o>n-60&&o<=n+60?"dawn":o>n+60&&o<=c-60?"day":"night",e){case"Partly Cloudy":case"Mostly Cloudy":case"Scattered Clouds":case"Overcast":case"Haze":case"Light Haze":case"Heavy Haze":makeImg("dawn"===i||"dusk"===i||"day"===i?"svg/cloud.svg":"night"===i?"svg/cloudy-night.svg":"svg/cloud.svg");break;case"Clear":case"Calm":makeImg("dawn"===i||"dusk"===i||"day"===i?"svg/sun.svg":"night"===i?"svg/moon.svg":"svg/sun.svg");break;case"Shallow Fog":case"Patches of Fog":case"Partial Fog":case"Freezing Fog":case"Light Freezing Fog":case"Heavy Freezing Fog":case"Mist":case"Light Mist":case"Heavy Mist":case"Fog":case"Light Fog":case"Heavy Fog":makeImg("svg/fog.svg");break;case"Hail":case"Light Hail":case"Heavy Hail":case"Ice Pellets":case"Hail Showers":case"Light Hail Showers":case"Heavy Hail Showers":case"Small Hail Showers":case"Light Small Hail Showers":case"Heavy Small Hail Showers":makeImg("svg/hail.svg");break;case"Rain":case"Light Rain":case"Heavy Rain":case"Rain Mist":case"Light Rain Mist":case"Heavy Rain Mist":case"Light Rain Showers":case"Heavy Rain Showers":case"Rain Showers":case"Light Rain Showers":case"Heavy Rain Showers":case"Drizzle":case"Light Drizzle":case"Heavy Drizzle":makeImg("svg/rain.svg");break;case"Squalls":case"Thunderstorm":case"Light Thunderstorm":case"Heavy Thunderstorm":case"Light Thunderstorms and Rain":case"Heavy Thunderstorms and Rain":makeImg("svg/storm.svg");break;case"Light Thunderstorms and Snow":case"Heavy Thunderstorms and Snow":case"Thunderstorms and Ice Pellets":case"Freezing Rain":case"Light Freezing Rain":case"Heavy Freezing Rain":case"Snow Blowing Snow Mist":makeImg("svg/hail.svg");break;case"Snow":case"Snow Showers":case"Light Snow Showers":case"Heavy Snow Showers":case"Snow Blowing Snow Mist":case"Light Snow Blowing Snow Mist":case"Heavy Snow Blowing Snow Mist":case"Snow Grains":case"Light Snow Grains":case"Heavy Snow Grains":case"Ice Crystals":case"Light Ice Crystals":case"Heavy Ice Crystals":case"Ice Pellets":case"Light Ice Pellets":case"Heavy Ice Pellets":makeImg("svg/snowflake.svg");break;default:makeImg("dawn"===i||"dusk"===i||"day"===i?"svg/sun.svg":"night"===i?"svg/moon.svg":"svg/sun.svg")}}function makeImg(e){$("#imgContainer").html("<img src='"+e+"'/>")}function getWeather(){var e="http://api.wunderground.com/api/ddbb440f680c0141/conditions/q/NY/New_York.json";$.getJSON(e,function(){}).done(function(e){var i,a,s,t,n,c,o,g,h,r;i=e.current_observation,r=3e5,console.log(i),a=i.dewpoint_f,s=i.temp_f,feelslike_f=i.feelslike_f,t=i.precip_today_in,n=i.relative_humidity,c=i.visibility_mi,o=i.wind_mph,g=i.wind_gust_mph,h=i.weather,weather_url=i.forecast_url,city=i.display_location.full,initConditions(h),initHumidity(n,"#humidity"),initPrecip(t,"#precip"),initWind(o,"#wind"),initWindGust(g,"#wind_gust"),initTemp(s,"#temp"),initTempF(feelslike_f,"#temp-f"),initVisibility(c,"#visibility"),initTag(weather_url,"#weather-url"),initCity(city,"#city"),setTimeout(getWeather,r)}).fail(function(){console.log("weather api not working")})}function initHumidity(e,i){$(i).html("<h1>Humidity: "+e+"</h1>")}function initPrecip(e,i){$(i).html("<h1>Precipitation: "+e+"</h1>")}function initWind(e,i){$(i).html("<h1>Wind: "+e+"</h1>")}function initWindGust(e,i){$(i).html("<h1>Wind Gust: "+e+"</h1>")}function initTemp(e,i){$(i).html('<h1 class="temp-txt">'+Math.round(e)+"<sup>&deg;</sup></h1>")}function initTempF(e,i){$(i).html("<h1>Feels Like: "+Math.round(e)+"<sup>&deg;</sup></h1>")}function initVisibility(e,i){$(i).html("<h1>Visibility: "+e+"</h1>")}function initTag(e,i){$(i).html("<h1>Powered by: <a href='"+e+"'target='_blank'>"+e+"</a></h1>")}function initCity(e,i){$(i).html("<h1>"+e+" Weather</h1>")}getWeather();